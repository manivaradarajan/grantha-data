{
  "file_hash": "5c1b7cbd4f8f4f18e75500163d5a4750bf33207f361a893b3159ce398858e98d",
  "timestamp": "2025-11-19T22:38:07.580462",
  "analysis": {
    "metadata": {
      "canonical_title": "कठोपनिषत्",
      "grantha_id": "katha-upanishad",
      "commentary_id": "rangaramanuja-muni-prakashika",
      "commentary_title": "प्रकाशिका",
      "commentator": "श्रीरङ्गरामानुजमुनिः",
      "authored_colophon": "श्रीरङ्गरामानुजमुनिभिः विरचिता",
      "structure_type": "valli"
    },
    "structural_analysis": {
      "starting_id": "2.1",
      "context_justification": "The text explicitly starts with the 'द्वितीया वल्ली' (2) and the first unit is Mantra 1. Thus, the coordinate is 2.1.",
      "suggested_filename": "katha-upanishad-rangaramanuja-02-01",
      "filename_justification": "Combines grantha ID, commentary author slug (rangaramanuja), and zero-padded start coordinate (02-01) for unique, sortable naming.",
      "structure_levels": {
        "key": "Valli",
        "scriptNames": {
          "devanagari": "वल्ली",
          "roman": "valli"
        },
        "children": {
          "key": "Mantra",
          "scriptNames": {
            "devanagari": "मन्त्रः",
            "roman": "mantra"
          }
        }
      }
    },
    "chunking_strategy": {
      "proposed_strategy": {
        "name": "Validated Group by Character Count (Single Unit)",
        "description": "The entire Valli is combined into a single chunk as its size is far below the safety limit, adhering to the rule of not splitting major structural units.",
        "safety_character_limit": 125000
      },
      "execution_plan": [
        {
          "chunk_id": 1,
          "description": "Valli 2, containing Mantras 1 through 25, along with the Prakāśikā commentary.",
          "start_marker": "**द्वितीयावल्ली**",
          "end_marker": "**॥****इति****द्वितीयवल्ली****प्रकाशिका****।।**",
          "estimated_character_count": 23266
        }
      ]
    },
    "parsing_instructions": {
      "recommended_unit": "Mantra",
      "justification": "The Valli is divided into Mantras, which serve as the fundamental unit grouping the root text and its corresponding commentary.",
      "numbering_capture_strategy": "Extract the Devanagari numeral enclosed in double vertical bars (।।X।।) found immediately at the end of the bolded verse text.",
      "start_pattern": {
        "description": "A new Mantra unit begins with a bolded line containing the verse text and its specific numerical coordinate.",
        "examples": [
          "**अन्यच्छ्रेयोऽन्यदुतैव प्रेयस्ते उभे नानार्थे पुरुषँ सिनीतः ।... ।।१।।**"
        ],
        "regex": "\\n\\n\\*\\*([^\n]+?)\\s*?(\\uff0e\\uff0e\\uff0e|।।[०-९]+\\s*?।।)\\*\\*"
      },
      "end_pattern": {
        "description": "The unit ends either immediately before the start of the next Mantra, or at the final colophon marking the end of the Valli's commentary.",
        "examples": [
          "**॥****इति****द्वितीयवल्ली****प्रकाशिका****।।**"
        ],
        "regex": "(\\n\\n\\*\\*॥\\*\\*इति\\*\\*द्वितीयवल्ली\\*\\*प्रकाशिका\\*\\*।।)|(?=\\n\\n\\*\\*[^\n]+\\*\\*\\s*?(।।[०-९]+\\s*?।।)\\*\\*)"
      },
      "pre_content_handling": "The initial headers (Grantha Title, Valli Header, and the initial 'द्वितीयावल्ली प्रकाशिका' heading) should be treated as organizational metadata before the parsing of Mantra 1 begins."
    }
  },
  "version": "1.0"
}
