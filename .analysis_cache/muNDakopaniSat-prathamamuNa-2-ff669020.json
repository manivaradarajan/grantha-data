{
  "file_hash": "faf9bac073f725384ef337b7897f34cd37266195f5f246f13a8da608eb627077",
  "timestamp": "2025-11-22T00:23:23.469238",
  "analysis": {
    "metadata": {
      "canonical_title": "मुण्डकोपनिषत्",
      "grantha_id": "mundaka-upanishad",
      "commentary_id": "rangaramanuja-muni-prakashika",
      "commentary_title": "प्रकाशिका",
      "commentator": "श्रीरङ्गरामानुजमुनिः",
      "authored_colophon": "श्रीरङ्गरामानुजमुनिभिः विरचिता",
      "structure_type": "khanda"
    },
    "structural_analysis": {
      "starting_id": "1.2.1",
      "context_justification": "The text contains headers indicating the First Mundaka (प्रथममुण्डके) and the Second Khanda (द्वितीयखण्डः). The first parsed unit is Mantra 1. Thus, the start ID is 1.2.1.",
      "suggested_filename": "mundaka-upanishad-rangaramanuja-01-02-01",
      "filename_justification": "Combines the grantha ID, a slug for the commentator, and the zero-padded, hyphenated start ID (01-02-01) for unique, sortable naming.",
      "structure_levels": {
        "key": "Mundaka",
        "scriptNames": {
          "devanagari": "मुण्डकम्",
          "roman": "muṇḍakam"
        },
        "children": {
          "key": "Khanda",
          "scriptNames": {
            "devanagari": "खण्डः",
            "roman": "khaṇḍa"
          },
          "children": {
            "key": "Mantra",
            "scriptNames": {
              "devanagari": "मन्त्रः",
              "roman": "mantra"
            }
          }
        }
      }
    },
    "chunking_strategy": {
      "proposed_strategy": {
        "name": "Validated Group by Character Count",
        "description": "This strategy combines consecutive Khandas. As the provided text is a single Khanda and well below the safety limit, it constitutes a single chunk.",
        "safety_character_limit": 125000
      },
      "execution_plan": [
        {
          "chunk_id": 1,
          "description": "The entirety of Mundaka Upanishad, First Mundaka, Second Khanda.",
          "start_marker": "**प्रथममुण्डके** **द्वितीयखण्डः**",
          "end_marker": "।। इति प्रथममुण्डके द्वितीयखण्डप्रकाशिका ।।",
          "estimated_character_count": 10250
        }
      ]
    },
    "parsing_instructions": {
      "recommended_unit": "Mantra",
      "justification": "Each Khanda is composed of a sequence of Mantras, each followed by its commentary. Parsing should treat each Mantra and its associated commentary as a single record.",
      "numbering_capture_strategy": "Extract the Devanagari numeral (e.g., '१', '२') from the end of the bolded mantra line, typically formatted as `।। [numeral] ।।`.",
      "start_pattern": {
        "description": "Each new unit starts with the full mantra text, rendered in bold markdown, and concludes with a Devanagari numeral enclosed in double dandas.",
        "examples": [
          "**तदेतत् सत्यम् ।।****मन्त्रेषु कर्माणि कवयः यान्यपश्यँस्तानि त्रेतायां बहुधा सन्ततानि । तान्याचरथ नियतं सत्यकामाः एष वः पन्थाः सुकृतस्य लोके ।। १ ।।**",
          "**यदा लेलायते ह्यर्चिः समिद्धे हव्यवाहने । तदाऽऽज्यभागावन्तरेण आहुतीः प्रतिपादयेच्छ्रद्धया हुतम् ।। २ ।।**"
        ],
        "regex": "^\\*\\*.+?।।\\s*[\\u0966-\\u096F]+\\s*।।\\*\\*$"
      },
      "end_pattern": {
        "description": "The commentary for a mantra concludes immediately before the start of the next bolded mantra line (the next start_pattern) or at the final colophon marking the end of the Khanda.",
        "examples": [
          "।। इति प्रथममुण्डके द्वितीयखण्डप्रकाशिका ।।"
        ],
        "regex": "(?=^\\*\\*.+?।।\\s*[\\u0966-\\u096F]+\\s*।।\\*\\*$)|(?:।।\\s*इति\\s*प्रथममुण्डके\\s*द्वितीयखण्डप्रकाशिका\\s*।।)"
      },
      "pre_content_handling": "The initial lines `**मुण्डकोपनिषत्**`, `**प्रथममुण्डके** **द्वितीयखण्डः**`, and any text in square brackets like `**[****परविद्याङ्गम्** **अपरविद्या****]**` should be parsed as header/metadata for the containing Khanda and excluded from the first mantra's content."
    }
  },
  "version": "1.0"
}
