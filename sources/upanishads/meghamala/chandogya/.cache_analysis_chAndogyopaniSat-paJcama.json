{
  "file_hash": "49df59634e6f416e9f2a52651b11ec4015f095b7c4e40739dfbd64564aa03a8b",
  "timestamp": "2025-11-15T10:40:49.447700",
  "analysis": {
    "metadata": {
      "canonical_title": "छान्दोग्योपनिषत्",
      "grantha_id": "chhandogya-upanishad",
      "commentary_id": "rangaramanuja-muni-prakashika",
      "commentator": "श्रीरङ्गरामानुजमुनि",
      "structure_type": "khanda"
    },
    "structural_analysis": {
      "structure_levels": {
        "key": "Prapathaka",
        "scriptNames": {
          "devanagari": "प्रपाठकः",
          "roman": "prapāṭhaka"
        },
        "children": {
          "key": "Khanda",
          "scriptNames": {
            "devanagari": "खण्डः",
            "roman": "khaṇḍa"
          },
          "children": {
            "key": "Mantra",
            "scriptNames": {
              "devanagari": "मन्त्रः",
              "roman": "mantra"
            }
          }
        }
      }
    },
    "chunking_strategy": {
      "proposed_strategy": {
        "name": "Single Large Chunk",
        "description": "The total document size (estimated at 93,400 characters) is well below the safety character limit. The entire Prapathaka will be processed as one chunk.",
        "safety_character_limit": 125000
      },
      "execution_plan": [
        {
          "chunk_id": 1,
          "description": "The entire Fifth Prapathaka, including Khandas 1 through 24 and the associated commentary.",
          "start_marker": "पञ्चमः प्रपाठकः",
          "end_marker": "।। इति पञ्चमप्रपाठकभाष्यम् समाप्तम् ।।",
          "estimated_character_count": 93400
        }
      ]
    },
    "parsing_instructions": {
      "recommended_unit": "Khanda",
      "justification": "The Prapathaka is logically and semantically divided into Khaṇḍas, which serve as the primary structural units.",
      "start_pattern": {
        "description": "A new Khaṇḍa begins with a heading containing Devanagari numbering or a composite list, followed by 'खण्डः' or 'खण्डाः'. Formatting (asterisks, dashes) is variable, so the regex focuses on the textual content.",
        "examples": [
          "**प्रथमः खण्डः**",
          "****तृतीयः खण्डः****",
          "विंश–एकविंश–द्वाविंश–त्रयोविंशखण्डाः"
        ],
        "regex": "(?:\\*{2,4})?([\\u0900-\\u097F\\s–\\-:]+)खण्ड[ा:](ः)?(?:\\*{2,4})?"
      },
      "end_pattern": {
        "description": "The end of a Khanda is marked by a concluding line, typically mentioning the end of the section's commentary or the section itself, delimited by double danda (।।).",
        "examples": [
          "।। इति प्रथमः खण्डः ।।",
          "।। इति द्वितीयखण्डभाष्यम् ।।",
          "।। इति पञ्चमप्रपाठकभाष्यम् समाप्तम् ।।"
        ],
        "regex": "।। इति [\\u0900-\\u097F\\s–\\-]*खण्ड[ा:](ः)?(भाष्यम्)?( समाप्तम्)?\\s*।।"
      },
      "pre_content_handling": "The document starts directly with the Prapathaka title. All content from the Prapathaka title up to the first Khaṇḍa start marker should be treated as the main Prapathaka introductory material."
    }
  },
  "version": "1.0"
}
